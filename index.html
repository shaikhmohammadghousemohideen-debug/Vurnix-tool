<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Android XML Viewer - Live Preview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #3DDC84 0%, #00C853 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            height: calc(100vh - 200px);
            min-height: 600px;
        }

        .editor-section {
            background: #1e1e1e;
            display: flex;
            flex-direction: column;
        }

        .section-header {
            padding: 15px 20px;
            background: #2d2d2d;
            color: #3DDC84;
            font-weight: bold;
            font-size: 1.1em;
            border-bottom: 2px solid #3DDC84;
        }

        .xml-editor {
            flex: 1;
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border: none;
            outline: none;
            resize: none;
            line-height: 1.6;
        }

        .preview-section {
            background: #f5f5f5;
            display: flex;
            flex-direction: column;
        }

        .preview-controls {
            padding: 15px 20px;
            background: #ffffff;
            border-bottom: 2px solid #3DDC84;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-primary {
            background: #3DDC84;
            color: white;
        }

        .btn-primary:hover {
            background: #00C853;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(61, 220, 132, 0.3);
        }

        .btn-secondary {
            background: #757575;
            color: white;
        }

        .btn-secondary:hover {
            background: #616161;
        }

        .device-frame {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            overflow: auto;
        }

        .phone-mockup {
            width: 360px;
            background: white;
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            border: 12px solid #333;
            overflow: hidden;
            position: relative;
        }

        .phone-notch {
            height: 25px;
            background: #333;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            width: 150px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .phone-screen {
            background: #F5F5F5;
            min-height: 640px;
            max-height: 640px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .preview-content {
            padding: 0;
        }

        /* Android UI Elements Styling */
        .android-button {
            padding: 12px 24px;
            border-radius: 4px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 8px;
        }

        .android-edittext {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            margin: 8px;
            background: white;
        }

        .android-textview {
            padding: 8px;
            margin: 8px;
        }

        .android-imageview {
            margin: 8px;
        }

        .error-message {
            color: #d32f2f;
            padding: 20px;
            background: #ffebee;
            margin: 20px;
            border-radius: 8px;
            font-family: monospace;
            display: none;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
                height: auto;
            }

            .editor-section {
                min-height: 400px;
            }

            .phone-mockup {
                width: 100%;
                max-width: 360px;
            }
        }

        .sample-btn {
            background: #2196F3;
            color: white;
        }

        .sample-btn:hover {
            background: #1976D2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ Android XML Viewer</h1>
            <p>Paste your Android XML layout code and see it come to life!</p>
        </div>

        <div class="main-content">
            <div class="editor-section">
                <div class="section-header">üìù XML Code Editor</div>
                <textarea class="xml-editor" id="xmlInput" placeholder="Paste your Android XML layout code here...">&#x3C;?xml version="1.0" encoding="utf-8"?>
&#x3C;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="24dp"
    android:background="#F5F5F5"
    android:gravity="center">

    &#x3C;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Welcome to Android XML Viewer"
        android:textSize="24sp"
        android:textColor="#212121"
        android:textStyle="bold"
        android:layout_marginBottom="16dp" />

    &#x3C;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Paste your XML code in the editor"
        android:textSize="14sp"
        android:textColor="#757575"
        android:layout_marginBottom="32dp" />

    &#x3C;EditText
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:hint="Enter your email"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:layout_marginBottom="16dp" />

    &#x3C;EditText
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:hint="Enter your password"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:layout_marginBottom="24dp" />

    &#x3C;Button
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:text="LOGIN"
        android:background="#2196F3"
        android:textColor="#FFFFFF" />

&#x3C;/LinearLayout></textarea>
            </div>

            <div class="preview-section">
                <div class="preview-controls">
                    <div class="section-header" style="flex: 1; margin: 0; padding: 0; border: none;">üì± Live Preview</div>
                    <button class="btn btn-primary" onclick="renderPreview()">üîÑ Render</button>
                    <button class="btn btn-secondary" onclick="clearPreview()">üóëÔ∏è Clear</button>
                    <button class="btn sample-btn" onclick="loadSample()">üìÑ Sample</button>
                </div>

                <div class="device-frame">
                    <div class="phone-mockup">
                        <div class="phone-notch"></div>
                        <div class="phone-screen">
                            <div class="preview-content" id="previewContent">
                                <div style="padding: 20px; text-align: center; color: #757575;">
                                    <p style="font-size: 18px; margin-bottom: 10px;">üëÜ Click "Render" to preview</p>
                                    <p>Your Android layout will appear here</p>
                                </div>
                            </div>
                            <div class="error-message" id="errorMessage"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function parseXMLToHTML(xmlString) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlString, "text/xml");
            
            const errorNode = xmlDoc.querySelector("parsererror");
            if (errorNode) {
                throw new Error("Invalid XML: " + errorNode.textContent);
            }
            
            const root = xmlDoc.documentElement;
            return convertElement(root);
        }

        function convertElement(element) {
            const tagName = element.tagName;
            let html = '';
            
            const width = element.getAttribute('android:layout_width') || 'wrap_content';
            const height = element.getAttribute('android:layout_height') || 'wrap_content';
            const padding = element.getAttribute('android:padding') || '0';
            const margin = element.getAttribute('android:layout_margin') || '0';
            const marginBottom = element.getAttribute('android:layout_marginBottom') || '0';
            const marginTop = element.getAttribute('android:layout_marginTop') || '0';
            const background = element.getAttribute('android:background') || '';
            const orientation = element.getAttribute('android:orientation') || 'vertical';
            const gravity = element.getAttribute('android:gravity') || '';
            
            let style = `
                padding: ${convertDp(padding)};
                margin: ${convertDp(margin)};
                margin-bottom: ${convertDp(marginBottom)};
                margin-top: ${convertDp(marginTop)};
            `;
            
            if (width === 'match_parent') style += 'width: 100%;';
            else if (width !== 'wrap_content') style += `width: ${convertDp(width)};`;
            
            if (height === 'match_parent') style += 'height: 100%;';
            else if (height !== 'wrap_content') style += `height: ${convertDp(height)};`;
            
            if (background) {
                if (background.startsWith('#')) {
                    style += `background-color: ${background};`;
                } else if (background === '@android:color/white') {
                    style += 'background-color: #FFFFFF;';
                }
            }
            
            switch(tagName) {
                case 'LinearLayout':
                case 'ScrollView':
                    style += `display: flex; flex-direction: ${orientation === 'horizontal' ? 'row' : 'column'};`;
                    if (gravity.includes('center')) style += 'align-items: center; justify-content: center;';
                    html = `<div style="${style}">`;
                    for (let child of element.children) {
                        html += convertElement(child);
                    }
                    html += '</div>';
                    break;
                    
                case 'TextView':
                    const text = element.getAttribute('android:text') || 'TextView';
                    const textSize = element.getAttribute('android:textSize') || '14sp';
                    const textColor = element.getAttribute('android:textColor') || '#000000';
                    const textStyle = element.getAttribute('android:textStyle') || '';
                    style += `
                        font-size: ${convertDp(textSize)};
                        color: ${textColor};
                        ${textStyle === 'bold' ? 'font-weight: bold;' : ''}
                    `;
                    html = `<div class="android-textview" style="${style}">${text}</div>`;
                    break;
                    
                case 'EditText':
                    const hint = element.getAttribute('android:hint') || '';
                    const inputType = element.getAttribute('android:inputType') || 'text';
                    style += `width: ${width === 'match_parent' ? '100%' : 'auto'}; display: block;`;
                    const type = inputType.includes('password') ? 'password' : 'text';
                    html = `<input type="${type}" class="android-edittext" placeholder="${hint}" style="${style}">`;
                    break;
                    
                case 'Button':
                    const btnText = element.getAttribute('android:text') || 'Button';
                    const btnTextColor = element.getAttribute('android:textColor') || '#000000';
                    const btnBackground = element.getAttribute('android:background') || '#E0E0E0';
                    style += `
                        background-color: ${btnBackground.startsWith('#') ? btnBackground : '#E0E0E0'};
                        color: ${btnTextColor};
                        width: ${width === 'match_parent' ? '100%' : 'auto'};
                        display: block;
                    `;
                    html = `<button class="android-button" style="${style}">${btnText}</button>`;
                    break;
                    
                case 'ImageView':
                    const src = element.getAttribute('android:src') || '';
                    const imgWidth = convertDp(element.getAttribute('android:layout_width') || '100dp');
                    const imgHeight = convertDp(element.getAttribute('android:layout_height') || '100dp');
                    style += `width: ${imgWidth}; height: ${imgHeight}; background: #ddd; display: flex; align-items: center; justify-content: center;`;
                    html = `<div class="android-imageview" style="${style}">üñºÔ∏è</div>`;
                    break;
                    
                default:
                    html = `<div style="${style}">`;
                    for (let child of element.children) {
                        html += convertElement(child);
                    }
                    html += '</div>';
            }
            
            return html;
        }

        function convertDp(value) {
            if (!value) return '0px';
            const num = parseInt(value);
            return num + 'px';
        }

        function renderPreview() {
            const xmlInput = document.getElementById('xmlInput').value;
            const previewContent = document.getElementById('previewContent');
            const errorMessage = document.getElementById('errorMessage');
            
            errorMessage.style.display = 'none';
            
            try {
                const html = parseXMLToHTML(xmlInput);
                previewContent.innerHTML = html;
            } catch (error) {
                errorMessage.textContent = '‚ùå Error: ' + error.message;
                errorMessage.style.display = 'block';
                previewContent.innerHTML = '';
            }
        }

        function clearPreview() {
            document.getElementById('xmlInput').value = '';
            document.getElementById('previewContent').innerHTML = `
                <div style="padding: 20px; text-align: center; color: #757575;">
                    <p style="font-size: 18px; margin-bottom: 10px;">üëÜ Click "Render" to preview</p>
                    <p>Your Android layout will appear here</p>
                </div>
            `;
        }

        function loadSample() {
            document.getElementById('xmlInput').value = `<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="24dp"
    android:background="#F5F5F5"
    android:gravity="center">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Welcome Back"
        android:textSize="28sp"
        android:textColor="#212121"
        android:textStyle="bold"
        android:layout_marginBottom="8dp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Login to continue"
        android:textSize="14sp"
        android:textColor="#757575"
        android:layout_marginBottom="32dp" />

    <EditText
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:hint="Enter your email"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:layout_marginBottom="16dp" />

    <EditText
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:hint="Enter your password"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:layout_marginBottom="24dp" />

    <Button
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:text="LOGIN"
        android:background="#2196F3"
        android:textColor="#FFFFFF" />

</LinearLayout>`;
            renderPreview();
        }

        // Auto-render on page load
        window.onload = function() {
            renderPreview();
        };
    </script>
</body>
</html>
